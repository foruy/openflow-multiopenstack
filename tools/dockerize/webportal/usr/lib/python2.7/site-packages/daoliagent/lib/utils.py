from daoliagent.lib.constants import FILTERS


def filter_port(port):
    while True:
        if port <= 1024:
            port = 50000 - port
            continue
        if port >= 50000:
            port = 50000 - port / 2
        if port in FILTERS:
            port += 1
            continue
        return port
