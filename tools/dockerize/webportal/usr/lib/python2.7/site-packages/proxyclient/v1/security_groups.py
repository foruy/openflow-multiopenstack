import urllib

from proxyclient import base

class SecurityGroup(base.Resource):
    """Represents an Server."""
    pass

class SecurityGroupManager(base.Manager):
    resource_class = SecurityGroup

    def list(self, project_id, search_opts=None):
        """Get a list of servers."""
        if search_opts is None:
            search_opts = {}

        qparams = {}

        for opt, val in search_opts.iteritems():
            if val:
                qparams[opt] = val

        query_string = "?%s" % urllib.urlencode(qparams) if qparams else ""

        return self.api.get("/security_groups/%s%s" % (base.getid(project_id),
                query_string))[1]

    def update(self, project_id, **kwargs):
        body = {"security_group": kwargs}
        return self._put("/security_groups/%s" % base.getid(project_id), body)
